(this.webpackJsonpdiyhue=this.webpackJsonpdiyhue||[]).push([[15],{109:function(e,t,c){"use strict";c.r(t);var n=c(14),s=c(2),o=c(16),r=c.n(o),a=c(27),i=c(99),l=c(93),u=(c(94),c(6)),j=function(e){var t=e.api_key,c=e.id,n=e.device,s=e.setType,o=e.setMessage,j=function(){r.a.delete("/api/".concat(t,"/sensors/").concat(c)).then((function(e){console.log(e.data),o("Device successfully deleted"),s("none"),s("success")})).catch((function(e){console.error(e),o("Error occured, check browser console"),s("none"),s("error")}))};return Object(u.jsxs)(u.Fragment,{children:[n.name," ",Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"switchContainer",children:Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{type:"checkbox",defaultChecked:n.config.on,onChange:function(e){return a=e.currentTarget.checked,void r.a.put("/api/".concat(t,"/sensors/").concat(c,"/config"),{on:a}).then((function(e){console.log(e.data),o(n.name+" successfully "+(a?"enabled":"disabled")),s("none"),s("success")})).catch((function(e){console.error(e),o("Error occured, check browser console"),s("none"),s("error")}));var a}}),Object(u.jsx)("span",{className:"slider"})]})}),"Protocol: ",n.protocol,Object(u.jsx)("br",{}),"battery"in n.config&&function(){var e=n.config.battery,t=e+"%";return console.log(e),e>90?Object(u.jsx)(i.a,{title:t}):e>70?Object(u.jsx)(i.b,{title:t}):e>40?Object(u.jsx)(i.d,{title:t}):Object(u.jsx)(i.c,{title:t})}(),Object(u.jsx)(a.a,{title:"Delete",onClick:function(){Object(l.confirmAlert)({title:"Delete device "+n.name,message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){return j()}},{label:"No"}]})}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})},b=c(88);t.default=function(e){var t=e.API_KEY,c=Object(s.useState)({}),o=Object(n.a)(c,2),a=o[0],i=o[1],l=Object(s.useState)("none"),d=Object(n.a)(l,2),f=d[0],O=d[1],h=Object(s.useState)("no message"),x=Object(n.a)(h,2),v=x[0],p=x[1],m=function(){void 0!==t&&r.a.get("/sensors").then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.error(e)}))};return Object(s.useEffect)((function(){m();var e=setInterval((function(){m()}),2e3);return function(){return clearInterval(e)}}),[t]),Object(u.jsxs)("div",{className:"content",children:["none"!==f&&Object(u.jsx)(b.a,{type:f,message:v,duration:"5000",setType:O}),Object(u.jsx)("div",{className:"cardGrid",children:Object.entries(a).map((function(e){var c=Object(n.a)(e,2),s=c[0],o=c[1];return Object(u.jsx)(j,{api_key:t,id:s,device:o,setType:O,setMessage:p},s)}))})]})}},88:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(2);var n=c(12),s=c(89),o=c.n(s),r=c(6);function a(e){var t=e.type,c=e.message,s=e.duration,a=e.setType;return Object(r.jsx)(o.a,{duration:s,persistOnHover:!0,children:Object(r.jsx)("div",{className:"notificationContainer",children:Object(r.jsxs)("div",{className:"notification ".concat(t),children:[Object(r.jsx)("p",{children:c}),Object(r.jsx)("div",{className:"icon",children:Object(r.jsx)(n.m,{onClick:function(){return a("none")}})})]})})})}}}]);
//# sourceMappingURL=15.2f4a01ac.chunk.js.map